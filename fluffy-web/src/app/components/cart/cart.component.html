<div class="container">
  <div class="header">
    <h1>Giỏ hàng</h1>
    <button><i class="fas fa-times"></i></button>
  </div>

  <div class="select-all">
    <input type="checkbox" id="select-all-checkbox" [(ngModel)]="selectAll" (change)="toggleSelectAll()" /> Chọn tất cả
    <span class="delete-all" (click)="deleteAll()">Xóa tất cả</span>
  </div>

  <div id="cart-container">
    <div *ngFor="let product of products" class="cart-item">
      <input type="checkbox" [(ngModel)]="product.selected" (change)="toggleSelectProduct(product)" class="product-checkbox" />
      <img [src]="product.images[0]" alt="{{ product.title }}" width="100" height="100" />
      <div class="cart-item-details">
        <h2>{{ product.title }}</h2>
        <div class="cart-item-controls">
          <button (click)="changeQuantity(product, false)" class="decrease">-</button>
          <input type="text" [(ngModel)]="product.quantity" class="quantity" />
          <button (click)="changeQuantity(product, true)" class="increase">+</button>
          <select class="tags">
            <option *ngFor="let tag of [product.category, 'Đỏ', 'Xanh']">{{ tag }}</option>
          </select>
          <select class="dimensions">
            <option *ngFor="let size of product.stock ? ['40cm', '50cm', '60cm'] : ['30cm', '40cm']">{{ size }}</option>
          </select>
        </div>
        <div class="cart-item-prices">
          <span>{{ product.price }}đ</span>
          <span class="original-price">{{ (product.price * (1 + product.discountPercentage / 100)).toFixed(2) }}đ</span>
          <span class="remove" (click)="deleteProduct(product)">Xóa sản phẩm</span>
        </div>
      </div>
      <div class="cart-item-total">{{ product.totalPrice | number: '1.2-2' }}đ</div>
    </div>
  </div>

  <div class="promo-code">
    <div><i class="fas fa-tag"></i> <span>Mã khuyến mãi</span></div>
    <button>Chọn mã <i class="fas fa-chevron-right"></i></button>
  </div>

  <div class="total">
    <span>Tổng tiền:</span> <span class="total-amount">{{ totalAmount | number: '1.2-2' }}đ</span>
  </div>

  <div class="checkout">
    <button>THANH TOÁN</button>
  </div>
</div>
